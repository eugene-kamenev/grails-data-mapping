dependencies {
    compile("com.orientechnologies:orientdb-core:${orientDbVersion}")
    compile("com.orientechnologies:orientdb-client:${orientDbVersion}")
    compile("com.orientechnologies:orientdb-graphdb:${orientDbVersion}") {
        exclude group: 'org.codehaus.groovy', module: 'groovy'
    }
    compile group: 'com.tinkerpop.gremlin', name: 'gremlin-java', version: '2.6.0'
    compile 'com.github.raymanrt:orientqb:0.1.7'
    compile project(":grails-datastore-gorm"),
            project(":grails-datastore-core")
    compile(project(":grails-datastore-gorm-support")) {
        exclude group:'org.grails', module:'grails-datastore-gorm-hibernate-core'
    }
    testCompile project(":grails-datastore-gorm-tck")
    testRuntime "org.springframework:spring-aop:$springVersion"
    provided "javax.servlet:javax.servlet-api:$servletApiVersion"
}

tasks.withType(GroovyCompile) {
    configure(groovyOptions.forkOptions) {
        memoryMaximumSize = '1g'
        jvmArgs = ['-XX:MaxPermSize=512m', '-Xms512m', '-Xmx1g']
    }
}

test {
    maxParallelForks = 1
    if (!isTravisBuild) {
        forkEvery = 30
    }
}